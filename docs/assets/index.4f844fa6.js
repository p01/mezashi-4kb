const r="px",S="style",f="filter",x="forEach",I="innerHTML",y="stroke",M=document,j=M.body,v=t=>M.createElement(t),P=t=>j.appendChild(t),T=(t=1)=>Math.random()*t,w=setTimeout,N=(t,e)=>{t.onpointerdown=n=>{n.cancelBubble=!0,e()}},u="#666",at="#fff",ct="#0000",C=100,m=(t,e=4,n="none",s=u)=>t.split("*").map(o=>`<path d="M${atob(o).split("").map(c=>c.charCodeAt(0)).map(c=>c<20?"MmLlHhVvCcSsQqTtAaZz"[c]:c-148).join(" ")}" ${y}=${s} ${y}-width=${e} fill=${n} ${y}-linecap=round ${y}-linejoin=round />`).join(""),O=(t,e,n)=>`<svg viewBox="0 0 ${e} ${n}">${t}</svg>`,it=O(m("zb8LkJ2KmHuRcYgIn7aWw5jEC6WZrp0JkpqQn46kiImJp5OglpWen62eq5SzgrN+CtTGzb8S",0,"#ec6")+m("zqoJlpidqoapAYSeCZOblaabqQunjaeICsXEvsE*xdkJmZmUnZGWAZWsCZWajpuPlA*x/MJlZuPm4+U*wcIJm5Wcj5yPn5+nqauwEZmZlJSVlJkJjKptsFyf*r9EJkpiPno+fAbSGCZmTs5GcpQjI6LfpseIJkZGTjpaM*r98R4eGUlJSKjwmPko+nlqQLnY6ejADItRGVlZSUlJWUCZSUlJOUkwuUlZSVEgGbmAmTlI+VkZcAmsEImr2pw6bICY6VgZODjguaiJuICqrCpsgBtoUHlQGSkweVAZeKkpUBpLeXkQF/nAmZmJSdkZYBnYyboA",2)+m("xp8JkoeOh4ySjYqHioebCKasnrSjvQuioqefCsW7xrAJlpOYkJiLlpmYl5iVC5GMi4sS*psgJk5WJn5KjC5+Ln4kJkpSNk4uQEg*0dIRlZWUlZSVk5WVlJSUk5US",2,u),80,120),W="JjI+DmIyemJaenaCmjpGEjnePloyVg5B9l4SSf4WKkY+Pi42LC5CXjaIInayWwabKCY6ggLuPvpaUmZSckJadoJuikhHr65SUlLSWCNj33vfh8gmVl5aYmZifkqJ+oW2Ygo90hnAS",lt=O(m(`5as${W}`,0,"#998")+m(`4Ko${W}*o7wJkpeLmYmTAaqKi5iclwGcl52VALa/A5yXALG+A5OYAZKPk5g`),C,C),F="JlJmIn3afiZR4knKPiZt8noOQjIiZh6WSoI2rjLaLopOyl7KdEw",rt=O(m(`8ac${F}`,0,"#9bc")+m(`76U${F}GFkpiYAZSQkJg`),C,40),k=new AudioContext,Y=k.createGain(),K=Y.gain;Y.connect(k.destination);const g=([t,...e])=>{if(!t)return;const n=k.createOscillator();n.connect(Y),n.frequency.setValueAtTime(t,k.currentTime),K.value=.3,K.linearRampToValueAtTime(0,k.currentTime+.09),n.start(),w(()=>{n.stop(),g(e)},C)},p=600,L=p,mt=20,ut=-1,pt=.003,At=.01,dt=.04,Ct=.2;let _=0,Z=0,b=0,q=0,J=!1,h=0,R=1,d=6,G=[],i=[],l=[],a;const B=t=>{t.border="solid 2px"+u},H=(t,e)=>{xt[I]=t,yt[I]=e},U=(t,e,n,s=0,o=0)=>{t.position="absolute",t.top=o+r,t.left=s+r,t.width=e+r,t.height=n+r},St=t=>{const e=v("button"),n=e[S],s=o=>n.background=o?u:at;return U(n,p,60,0,L+10),B(n),n.color=u,n.fontSize=24+r,s(),N(e,()=>{t(),g([392]),s(!0),w(s,C)}),P(e)},Q=(t=24,e=0,n="")=>{const s=v("div"),o=s[S];return U(o,p,t,0,e),o.textAlign=n,o.fontSize=t+r,o.color=u,P(s)},$=(t,e,n,s=0,o=0)=>{const c=v("i"),E=c[S];U(E,e,n),E.transformOrigin="bottom";const V={e:P(c),x:s,y:o,v:0,a:ut,w:e,h:n};return c[I]=t,G.push(V),V},D=t=>{G[f](e=>!t.includes(e))[x](e=>e.e.remove()),G=t},X=t=>{t.v+=t.a,t.y+=t.v*Z,t.y<=0&&(t.v=t.y=0),t.x+=(t.m??0)*Z,t.e[S].transform=`translate(${t.x}px, ${L-t.y-t.h}px) scaleY(${Math.sin(b/7)/20+1})`},ft=()=>{a.y||(a.v=25)},kt=()=>{const e=$(lt,50,50,p-50,T(300));T()<Ct&&(e.a=0),e.m=-4-h*dt,i.push(e)},Tt=t=>{t.y||(t.v=T(60),t.a=-t.v/20)},gt=()=>{if(J&&d){const t=$(rt,40,10,50,a.y+40);t.m=5,t.a=0,l.push(t),d--,d||w(()=>{d=6},2e3),g([784])}},z=t=>t[f](e=>e.x>0&&e.x<p),tt=(t,e)=>t.x<e.x+e.w&&t.x+t.w>e.x&&t.y<e.y+e.h&&t.y+t.h>e.y,Jt=(t,e)=>{let n=[];e[x](o=>{const c=t[f](E=>tt(E,o));c.length&&(n=[...n,...c,o])});const s=o=>!n.includes(o);return[t[f](s),e[f](s)]},et=t=>{Z=(t-_)/17,b+=Z;const e=b/mt|0;if(J){R+=pt,e!==q&&T()<R&&(kt(),R=0),i[x](o=>T()<At&&Tt(o)),a.x*=.9,[a,...i,...l][x](X),i=z(i),l=z(l);const n=i.length;[i,l]=Jt(i,l);const s=n-i.length;s&&(h+=s,g([523])),i.some(o=>tt(o,a))&&nt(!0),D([a,...i,...l])}ot[I]=`\u{1F431}${h} / `+("\u{1F41F}".repeat(d)||"RELOADING"),q=e,_=t,requestAnimationFrame(et)},Et=()=>{i=[],l=[],D([a]),h=0,d=6,J=!0,H("","JUMP")},nt=t=>{J=!1,H(t?"GAMEOVER":"Neko Mezashi 4KB","GO!"),a.x=(p-a.w)/2,a.y=L/2,X(a),t&&g([523,466,440,392,349])},A=j[S];A.userSelect="none";B(A);A.fontFamily="arial";A.width=p+r;A.height=L+r;A.position="relative";A.touchAction="none";N(j,gt);const yt=St(()=>(J?ft:Et)()),ot=Q(),st=ot[S];st.color=ct;st.textShadow="0 0 0 "+u;const xt=Q(36,310,"center");a=$(it,80,C);nt();et(0);
