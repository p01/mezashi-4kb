const r="px",A="style",C="filter",y="forEach",k="innerHTML",h="stroke",D=document,I=D.body,P=t=>D.createElement(t),w=t=>I.appendChild(t),T=(t=1)=>Math.random()*t,Y=setTimeout,X=(t,e)=>{t.addEventListener("pointerdown",n=>{n.cancelBubble=!0,e()})},u="#666",it="#fff",lt="#0000",S=100,m=(t,e=4,n="none",s=u)=>t.split("*").map(o=>`<path d="M${atob(o).split("").map(c=>c.charCodeAt(0)).map(c=>c<20?"MmLlHhVvCcSsQqTtAaZz".charAt(c):c-148).join(" ")}" ${h}=${s} ${h}-width=${e} fill=${n} ${h}-linecap=round ${h}-linejoin=round />`).join(""),U=(t,e,n)=>`<svg viewBox="0 0 ${e} ${n}">${t}</svg>`,rt=U(m("zb8LkJ2KmHuRcYgIn7aWw5jEC6WZrp0JkpqQn46kiImJp5OglpWen62eq5SzgrN+CtTGzb8S",0,"#ec6")+m("zqoJlpidqoapAYSeCZOblaabqQunjaeICsXEvsE=*xdkJmZmUnZGWAZWsCZWajpuPlA==*x/MJlZuPm4+U*wcIJm5Wcj5yPn5+nqauwEZmZlJSVlJkJjKptsFyf*r9EJkpiPno+fAbSGCZmTs5GcpQjI6LfpseIJkZGTjpaM*r98R4eGUlJSKjwmPko+nlqQLnY6ejADItRGVlZSUlJWUCZSUlJOUkwuUlZSVEgGbmAmTlI+VkZcAmsEImr2pw6bICY6VgZODjguaiJuICqrCpsgBtoUHlQGSkweVAZeKkpUBpLeXkQF/nAmZmJSdkZYBnYyboA==",2)+m("xp8JkoeOh4ySjYqHioebCKasnrSjvQuioqefCsW7xrAJlpOYkJiLlpmYl5iVC5GMi4sS*psgJk5WJn5KjC5+Ln4kJkpSNk4uQEg==*0dIRlZWUlZSVk5WVlJSUk5US",2,u),80,120),M="JjI+DmIyemJaenaCmjpGEjnePloyVg5B9l4SSf4WKkY+Pi42LC5CXjaIInayWwabKCY6ggLuPvpaUmZSckJadoJuikhHr65SUlLSWCNj33vfh8gmVl5aYmZifkqJ+oW2Ygo90hnAS",mt=U(m(`5as${M}`,0,"#998")+m(`4Ko${M}*o7wJkpeLmYmTAaqKi5iclwGcl52VALa/A5yXALG+A5OYAZKPk5g=`),S,S),N="JlJmIn3afiZR4knKPiZt8noOQjIiZh6WSoI2rjLaLopOyl7KdEw",ut=U(m(`8ac${N}==`,0,"#9bc")+m(`76U${N}GFkpiYAZSQkJg=`),S,40),f=new AudioContext,$=f.createGain(),_=$.gain;$.connect(f.destination);const g=([t,...e])=>{if(!t)return;const n=f.createOscillator();n.connect($),n.frequency.setValueAtTime(t,f.currentTime),_.value=.3,_.linearRampToValueAtTime(0,f.currentTime+.09),n.start(),Y(()=>{n.stop(),g(e)},S)},p=600,R=p,pt=20,dt=-1,At=.003,St=.01,Ct=.04,ft=.2;let K,G,V,q=0,Z=1,j=0,z=-1,E=!1,b=0,v=1,d=6,O=[],i=[],l=[],a;const tt=t=>{t.border="solid 2px"+u},et=t=>{t.userSelect="none"},x=(t,e)=>{t[k]=e},W=(t,e,n,s=0,o=0)=>{t.position="absolute",t.top=o+r,t.left=s+r,t.width=e+r,t.height=n+r},Tt=t=>{const e=P("button"),n=e[A],s=o=>n.background=o?u:it;return W(n,p,60,0,R+10),et(n),tt(n),n.color=u,n.fontSize=24+r,s(),X(e,()=>{t(),g([392]),s(!0),Y(s,S)}),w(e)},B=(t=24,e=0,n="")=>{const s=P("div"),o=s[A];return W(o,p,t,0,e),et(o),o.textAlign=n,o.fontSize=t+r,o.color=u,w(s)},F=(t,e,n=0,s=0)=>{const o=P("i"),c=o[A];W(c,t,e),c.transformOrigin="bottom";const J={e:w(o),x:n,y:s,v:0,a:dt,w:t,h:e};return O.push(J),J},nt=t=>{O[C](e=>!t.includes(e))[y](e=>I.removeChild(e.e)),O=t},ot=t=>{t.v+=t.a,t.y+=t.v*Z,t.y<=0&&(t.v=t.y=0),t.x+=(t.m??0)*Z,t.e[A].transform=`translate(${t.x}px, ${R-t.y-t.h}px) scaleY(${Math.sin(j/7)/20+1})`},kt=()=>{a.y||(a.v=25)},gt=()=>{const e=F(50,50,p-50,T(300));T()<ft&&(e.a=0),e.e[k]=mt,e.m=-4-b*Ct,i.push(e)},Et=t=>{t.y||(t.v=T(60),t.a=-t.v/20)},Jt=()=>{if(!E||!d)return;const t=F(40,10,50,a.y+40);t.e[k]=ut,t.m=5,t.a=0,l.push(t),d--,L(),d||Y(()=>{d=6,L()},2e3),g([784])},L=()=>{G[k]=`\u{1F431}${b} / `+("\u{1F41F}".repeat(d)||"RELOADING")},H=t=>t[C](e=>e.x>0&&e.x<p),Q=(t,e,n,s)=>Math.abs((t-n)*2+e-s)<e+s,st=(t,e)=>Q(t.x,t.w,e.x,e.w)&&Q(t.y,t.h,e.y,e.h),ht=(t,e)=>{let n=[];e[y](o=>{const c=t[C](J=>st(J,o));c.length&&(n=[...n,...c,o])});const s=o=>!n.includes(o);return[t[C](s),e[C](s)]},ct=t=>{Z=t?(t-q)/17:1,j+=Z;const e=~~(j/pt),n=e!==z;if(z=e,E){v+=At,n&&T()<v&&(gt(),v=0),i[y](c=>T()<St&&Et(c)),a.x*=.9,[a,...i,...l][y](ot),i=H(i),l=H(l);const s=i.length;[i,l]=ht(i,l);const o=s-i.length;o&&(b+=o,L(),g([523])),i.some(c=>st(c,a))&&at(!0),nt([a,...i,...l])}q=t,requestAnimationFrame(ct)},yt=()=>{i=[],l=[],nt([a]),b=0,d=6,E=!0,L(),x(V,""),x(K,"JUMP")},at=t=>{E=!1,x(K,"GO!"),x(V,t?"GAMEOVER":"Neko Mezashi 4KB"),a.x=(p-a.w)/2,a.y=R/2,ot(a),t&&g([523,466,440,392,349])},It=()=>{const t=I[A];tt(t),t.fontFamily="arial",t.width=p+r,t.height=R+r,t.position="relative",t.touchAction="none",X(I,Jt),K=Tt(()=>(E?kt:yt)()),G=B();const e=G[A];e.color=lt,e.textShadow="0 0 0 "+u,V=B(36,310,"center"),a=F(80,S),a.e[k]=rt};It();at();ct(0);
